/*!
 * Fumanchu 0.0.6, a Mustache extension by St√•le Raknes, 2012
 * http://github.com/starak/fumanchu
 */(function(e,t){if(typeof define=="function")define(["mustache"],t);else{if(typeof e.Mustache!="object"){var n=new Error("Fumanchu dependency error!");throw window.fumanchu=function(){throw n},n}e.fumanchu=t(e.Mustache)}})(this,function(e){"use strict";function o(e,t){return document.querySelector(t||"body").appendChild(e),e}function u(e){var r=document.createDocumentFragment(),i=document.createElement("div"),s={};i.innerHTML=e;var u=i.querySelectorAll("["+n+"]"),a=u.length;for(var f=0;f<a;f++){var l=u[f],c=l.getAttribute(t),h=l.getAttribute(n);if(c==="array"){if(!s[h])s[h]=[];else if(typeof s[h].push!="function"){console.error("Error in fumanchu collection! Duplicate declaration: '"+h+"'.");continue}s[h].push(l)}else{if(!!s[h]){console.error("Error in fumanchu collection! Duplicate declaration: '"+h+"'.");continue}s[h]=l}l.removeAttribute(t),l.removeAttribute(n)}while(i.firstChild)r.appendChild(i.firstChild);r.collection=s;for(var p in s)s.hasOwnProperty(p)&&(r[p]=s[p]);return r.appendTo=function(e){return o(r,e)},r}function a(t,n,r){t=i[t]||t,r=r||{};var o,a;for(o in s)s.hasOwnProperty(o)&&(n[o]||(n[o]=s[o]));for(a in i)i.hasOwnProperty(a)&&(r[a]||(r[a]=i[a]));return u(e.render(t,n,r))}var t="data-collect-type",n="data-collect-as",r='script[type="text/fumanchu-template"]',i={},s={};return a.register={template:function(e,t){i[e]=t.replace(/\{\{#([^\/\}]+)\/\}\}/g,"{{#$1}}{{/$1}}")},helper:function(e,t){s[e]=t},helpers:function(e){for(var t in e)e.hasOwnProperty(t)&&this.helper(t,e[t])}},a.init=function(e){e=e||r;var t=document.querySelectorAll(e)||[];for(var n=0;n<t.length;n++){var s=t[n];i[s.id]=s.innerHTML.replace(/\{\{#([^\/\}]+)\/\}\}/g,"{{#$1}}{{/$1}}")}return i},a.version="0.0.6",a});